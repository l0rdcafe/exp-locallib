extends layout

block content
  h1= title

  form(method="POST" action="")
    div.form-group
      label(for="title") Title:
      input#title.form-control(type="text", placeholder="Name of book" name="title" required="true" value=(undefined===book ? "" : book.title))
    div.form-group
      label(for="author") Author:
      select#author.form-control(type="select", placeholder="Select author" name="author" required="true")
        for author in authors
          if book
            option(value=author.id selected=(author.id==book.author_id) ? "selected" : false) #{author.first_name} #{author.family_name}
          else
            option(value=author.id) #{author.first_name} #{author.family_name}
    div.form-group
      label(for="summary") Summary:
      input#summary.form-control(type="textarea", placeholder="Summary" name="summary" value=(undefined===book ? "" : book.summary) required="true")
    div.form-group
      label(for="isbn") ISBN:
      input#isbn.form-control(type="text", placeholder="ISBN13" name="isbn" value=(undefined===book ? "" : book.isbn) required="true")
    div.form-group
      label Genre:
      div
        div(style="display: inline; padding-right:10px;")
          select#genre.form-control(type="select", placeholder="Select genre" name="genre", required="true")
            for genre in genres
              if book && book.genre
                option(value=genre.id selected=(genre.name==book.genre) ? "selected" : false) #{genre.name}
              else
                option(value=genre.id) #{genre.name}
    div.form-group
      label Tags:
      div
        for tag in tags
          div(style='display: inline; padding-right:10px;')
            input.checkbox-input(type='checkbox', name='tag', id=tag.id, value=tag.id checked=tag.checked)
            label(for=tag.id) #{tag.name}
    button.btn.btn-primary(type="submit") Submit
  if errors
    ul
      for error in errors
        li!= error.msg
